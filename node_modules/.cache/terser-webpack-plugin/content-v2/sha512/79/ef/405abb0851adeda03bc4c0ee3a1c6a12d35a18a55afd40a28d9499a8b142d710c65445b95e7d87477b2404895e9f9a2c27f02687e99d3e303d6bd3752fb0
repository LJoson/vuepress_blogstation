{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{633:function(e,a,n){\"use strict\";n.r(a);var s=n(3),t=Object(s.a)({},(function(){var e=this,a=e.$createElement,n=e._self._c||a;return n(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[n(\"p\"),n(\"div\",{staticClass:\"table-of-contents\"},[n(\"ul\",[n(\"li\",[n(\"a\",{attrs:{href:\"#安装-deveco-studio-和-ohos-ndk\"}},[e._v(\"安装 DevEco Studio 和 OHOS NDK\")])]),n(\"li\",[n(\"a\",{attrs:{href:\"#准备-ohos-ndk-cmake-toolchain-文件\"}},[e._v(\"准备 OHOS NDK cmake toolchain 文件\")])]),n(\"li\",[n(\"a\",{attrs:{href:\"#下载-tengine-lite-源码\"}},[e._v(\"下载 Tengine Lite 源码\")])]),n(\"li\",[n(\"a\",{attrs:{href:\"#编译-tengine-lite\"}},[e._v(\"编译 Tengine Lite\")])]),n(\"li\",[n(\"a\",{attrs:{href:\"#issues\"}},[e._v(\"issues\")])])])]),n(\"p\"),e._v(\" \"),n(\"h1\",{attrs:{id:\"引言\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#引言\"}},[e._v(\"#\")]),e._v(\" 引言\")]),e._v(\" \"),n(\"p\",[n(\"a\",{attrs:{href:\"https://github.com/OAID/Tengine\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Tengine\"),n(\"OutboundLink\")],1)]),e._v(\" \"),n(\"h2\",{attrs:{id:\"安装-deveco-studio-和-ohos-ndk\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装-deveco-studio-和-ohos-ndk\"}},[e._v(\"#\")]),e._v(\" 安装 DevEco Studio 和 OHOS NDK\")]),e._v(\" \"),n(\"p\",[e._v(\"下载安装\"),n(\"a\",{attrs:{href:\"https://developer.harmonyos.com/cn/develop/deveco-studio#download\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"DevEco Studio\"),n(\"OutboundLink\")],1),e._v(\"，若没有华为开发者账号，需到\"),n(\"a\",{attrs:{href:\"https://developer.harmonyos.com/cn/home\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"HarmonysOS应用开发门户\"),n(\"OutboundLink\")],1),e._v(\"注册。\")]),e._v(\" \"),n(\"p\",[e._v(\"打开 DevEco Studio，Configure（或File）-> Settings -> Appearance & Behavior -> System Settings -> HarmonyOS SDK，勾选并下载 Native，完成 OHOS NDK 下载。\")]),e._v(\" \"),n(\"h2\",{attrs:{id:\"准备-ohos-ndk-cmake-toolchain-文件\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#准备-ohos-ndk-cmake-toolchain-文件\"}},[e._v(\"#\")]),e._v(\" 准备 OHOS NDK cmake toolchain 文件\")]),e._v(\" \"),n(\"p\",[e._v(\"ohos.toolchain.cmake 这个文件可以从 $OHOS_NDK/build/cmake 找到，例如C:/Users/mycaomputer/AppData/Local/Huawei/Sdk/native/2.1.0.13/build/cmake/ohos.toolchain.cmake\")]),e._v(\" \"),n(\"p\",[e._v(\"(可选) 删除debug编译参数，缩小二进制体积，方法和 android ndk相同 android-ndk issue\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('# 用编辑器打开 $ANDROID_NDK/build/cmake/android.toolchain.cmake\\n# 删除 \"-g\" 这行\\nlist(APPEND ANDROID_COMPILER_FLAGS\\n -g\\n -DANDROID\\n\\n')])]),e._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[e._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"6\")]),n(\"br\")])]),n(\"h2\",{attrs:{id:\"下载-tengine-lite-源码\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#下载-tengine-lite-源码\"}},[e._v(\"#\")]),e._v(\" 下载 Tengine Lite 源码\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"git clone -b tengine-lite https://github.com/OAID/Tengine.git Tengine-Lite\\n\")])]),e._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[e._v(\"1\")]),n(\"br\")])]),n(\"h2\",{attrs:{id:\"编译-tengine-lite\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#编译-tengine-lite\"}},[e._v(\"#\")]),e._v(\" 编译 Tengine Lite\")]),e._v(\" \"),n(\"p\",[e._v(\"Arm64 OHOS 编译（主要是Windows平台,DevEco Studio还没有Linux）\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[e._v(\"新建一个build文件夹\")]),e._v(\" \"),n(\"li\",[e._v(\"在build文件夹里新建一个ohos-arm64-v8a.bat.bat脚本\")])]),e._v(\" \"),n(\"div\",{staticClass:\"language- line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('\\n@ECHO OFF\\n@SETLOCAL\\n\\n:: Set OHOS native toolchain root\\n@SET OHOS_NDK=<your-ndk-root_path, such as C:/Users/mycaomputer/AppData/Local/Huawei/Sdk/native/2.1.0.13>\\n\\n\\n:: Set ninja.exe and cmake.exe\\n@SET NINJA_EXE=%OHOS_NDK%/build-tools/cmake/bin/ninja.exe\\n@SET CMAKE_EXE=%OHOS_NDK%/build-tools/cmake/bin/cmake.exe\\n@SET PATH=%OHOS_NDK%/llvm/bin;%OHOS_NDK%/build-tools/cmake/bin;%PATH%\\n\\nmkdir build-ohos-armeabi-v7a\\npushd build-ohos-armeabi-v7a\\n%CMAKE_EXE% ../.. -G Ninja -DCMAKE_TOOLCHAIN_FILE=\"%OHOS_NDK%/build/cmake/ohos.toolchain.cmake\"  -DCMAKE_MAKE_PROGRAM=%NINJA_EXE%  -DOHOS_ARCH=\"armeabi-v7a\" -DCMAKE_BUILD_WITH_INSTALL_RPATH=ON \\n%CMAKE_EXE% --build . --parallel %NUMBER_OF_PROCESSORS%\\n%CMAKE_EXE% --build . --target install\\npopd\\n\\nmkdir build-ohos-arm64-v8a\\npushd build-ohos-arm64-v8a\\n%CMAKE_EXE% ../.. -G Ninja -DCMAKE_TOOLCHAIN_FILE=\"%OHOS_NDK%/build/cmake/ohos.toolchain.cmake\"  -DCMAKE_MAKE_PROGRAM=%NINJA_EXE%  -DOHOS_ARCH=\"arm64-v8a\" -DCMAKE_BUILD_WITH_INSTALL_RPATH=ON  \\n%CMAKE_EXE% --build . --parallel %NUMBER_OF_PROCESSORS%\\n%CMAKE_EXE% --build . --target install\\npopd\\n\\n\\n@ENDLOCAL\\n\\n\\n')])]),e._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[e._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"8\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"9\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"10\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"11\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"12\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"13\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"14\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"15\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"16\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"17\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"18\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"19\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"20\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"21\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"22\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"23\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"24\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"25\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"26\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"27\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"28\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"29\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"30\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[e._v(\"31\")]),n(\"br\")])]),n(\"p\",[e._v(\"运行即可。\\nps:可能需要安装ninja:\")]),e._v(\" \"),n(\"p\",[e._v(\"下载\"),n(\"a\",{attrs:{href:\"https://github.com/ninja-build/ninja/releases\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"ninja\"),n(\"OutboundLink\")],1),e._v(\"中的source code,以及exe(win平台)，加压在任意一个文件夹，并在\\n环境变量加入其路径，重启。ninja -V验证。\")]),e._v(\" \"),n(\"h2\",{attrs:{id:\"issues\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#issues\"}},[e._v(\"#\")]),e._v(\" issues\")]),e._v(\" \"),n(\"p\",[e._v(\"期间遇到很多llvm,clang,openmp等有关的bug,主要是跟cmakelists编写有关。（而这些还需要更加深入学习以及了解）\")]),e._v(\" \"),n(\"div\",{staticClass:\"custom-block tip\"},[n(\"p\",{staticClass:\"custom-block-title\"},[e._v(\"更多\")]),e._v(\" \"),n(\"p\",[n(\"a\",{attrs:{href:\"https://llvm.org/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"llvm\"),n(\"OutboundLink\")],1)]),e._v(\" \"),n(\"p\",[n(\"a\",{attrs:{href:\"https://www.openmp.org/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"openmp\"),n(\"OutboundLink\")],1)]),e._v(\" \"),n(\"p\",[n(\"a\",{attrs:{href:\"https://wiki.mozilla.org/SIMD/Overview\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"simd\"),n(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);a.default=t.exports}}]);","extractedComments":[]}